# code

STATEMENT -> ASSIGNMENT ";" STATEMENT | _EPSILON

ASSIGNMENT -> DECLARATION

DECLARATION -> TYPE ":" IDENTIFIER "=" FUNCTION_DEFINITION @Start

REASSIGNMENT -> IDENTIFIER SHORTHAND_OPERATOR ELEMENT_VALUE | INCREMENT_OPERATION

ELEMENT_VALUE -> STRUCT_DEFINITION | FUNCTION_DEFINITION | EXPRESSION


# array

ARRAY_LITERAL -> "[" "]" | "&" "[" ARRAY_ELEMENT ARRAY_ELEMENT_LIST "]"

ARRAY_ELEMENT_LIST -> "," ARRAY_ELEMENT ARRAY_ELEMENT_LIST | _EPSILON

ARRAY_ELEMENT -> EXPRESSION


# struct definition

STRUCT_DEFINITION -> "(" STRUCT_FIELD STRUCT_FIELD_LIST ")"

STRUCT_FIELD_LIST -> "," STRUCT_FIELD STRUCT_FIELD_LIST | _EPSILON

STRUCT_FIELD -> TYPE ":" IDENTIFIER


# struct initialization

STRUCT_INITIALIZATION -> "(" FILLED_STRUCT_FIELD FILLED_STRUCT_FIELD_LIST ")"

FILLED_STRUCT_FIELD -> IDENTIFIER

FILLED_STRUCT_FIELD_LIST -> "," FILLED_STRUCT_FIELD FILLED_STRUCT_FIELD_LIST | _EPSILON


# function definition

FUNCTION_DEFINITION -> "{" FUNCTION_BODY "}" | FUNCTION_PARAMETER FUNCTION_PARAMETER_LIST "{" FUNCTION_BODY "}"

FUNCTION_PARAMETER_LIST -> "," FUNCTION_PARAMETER FUNCTION_PARAMETER_LIST | _EPSILON

FUNCTION_PARAMETER -> TYPE ":" IDENTIFIER

FUNCTION_BODY -> "return" VALUE ";"


# function call

FUNCTION_CALL -> IDENTIFIER "(" ")" | IDENTIFIER "(" FUNCTION_ARGUMENT FUNCTION_ARGUMENT_LIST ")"

FUNCTION_ARGUMENT -> VALUE

FUNCTION_ARGUMENT_LIST -> "," FUNCTION_ARGUMENT FUNCTION_ARGUMENT_LIST | _EPSILON


# algebraic expression

EXPRESSION -> TERM OPTIONAL_OPERATION | PREFIX_OPERATOR EXPRESSION

TERM -> "(" EXPRESSION ")" | VALUE

OPTIONAL_OPERATION -> BINARY_OPERATOR EXPRESSION | _EPSILON


VALUE -> PRIMITIVE | ARRAY_LITERAL | IDENTIFIER | FUNCTION_CALL | "none"

# miscellaneous

INCREMENT_OPERATION -> UNARY_OPERATOR IDENTIFIER | IDENTIFIER UNARY_OPERATOR

PRIMITIVE -> "none" | _STRING | _NUMBER | _BOOLEAN

BINARY_OPERATOR -> "+" | "-" | "*" | "/" | "%" | "&" | "\|" | "^"  | "<<" | ">>" | "==" | "<" | ">" | "&&" | "\|\|"

UNARY_OPERATOR -> "++" | "--"

SHORTHAND_OPERATOR -> "=" | ":=" | "+=" | "-=" | "*=" | "/=" | "&=" | "\|=" | "^="

PREFIX_OPERATOR -> "+" | "-" | "!"

TYPE -> "string" | "number" | "boolean" | "struct" | "function" | IDENTIFIER

IDENTIFIER -> _IDENTIFIER


# EXPORTS

EXPORT -> "export" "{" IDENTIFIER ADDITIONAL_EXPORTED_ELEMENTS "}" | _EPSILON

ADDITIONAL_EXPORTED_ELEMENTS -> "," IDENTIFIER ADDITIONAL_EXPORTED_ELEMENTS | _EPSILON